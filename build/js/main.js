"use strict";

var wheelBtn = document.querySelector(".land__wheel-btn");
var wheelSector = document.querySelector(".land__wheel-sector");
var popup = document.querySelector(".popup");
var popupBtn = document.querySelector(".popup__btn");

// Ініціалізація звуків
var backgroundMusic = new Audio('./music/music.mp3'); // фоновий звук, грає постійно
var reelSound = new Audio('./music/reels.mp3'); // звук кручення колеса
var reelStopSound = new Audio('./music/reel-stop.mp3'); // звук коли випадає сектор
var popupSound = new Audio('./music/popup.mp3'); // звук для попапу

// Функція для запуску фонової музики
function playBackgroundMusic() {
  backgroundMusic.play()["catch"](function (err) {
    return console.log(err);
  });
}

// так як сучасні браузери лочать автовідтворення музики на сайтах, вішаєм слухачі подій які запустять її
document.addEventListener('mousemove', playBackgroundMusic, {
  once: true
});
document.addEventListener('click', playBackgroundMusic, {
  once: true
});
document.addEventListener('touchstart', playBackgroundMusic, {
  once: true
});
playBackgroundMusic();
popupBtn.addEventListener("click", function () {
  if (popup.classList.contains("_first")) {
    popup.classList.remove("_opacity", "_zIndex");
    wheelBtn.style.pointerEvents = "initial";
  }
});
var spinCounter = 0;
function spinWheel(wheel, anim, position, popup, btn) {
  wheel.classList.add(anim);

  //звук кручення колеса
  reelSound.play();
  wheel.addEventListener("animationend", function () {
    wheel.classList.remove(anim);
    wheel.style.transform = "rotate(".concat(position, "deg)");

    // Зупиняємо звук кручення колеса
    reelSound.pause();
    reelSound.currentTime = 0;

    // звук зупинки колеса
    reelStopSound.play();
    popup.classList.add("_opacity", "_zIndex");
    btn.classList.add("_btnPulse");

    // Відтворюємо звук для попапу
    popupSound.play();
  }, {
    once: true
  });
}
wheelBtn.addEventListener("click", function () {
  wheelBtn.style.pointerEvents = "none";
  if (spinCounter === 0) {
    wheelBtn.classList.remove("_btnPulse");
    spinWheel(wheelSector, "firstSpin", 1620, popup, wheelBtn);
    popup.classList.add("_first");
    spinCounter++;
    return;
  }
  if (spinCounter === 1) {
    wheelBtn.classList.remove("_btnPulse");
    spinWheel(wheelSector, "secondSpin", 2744.5, popup, wheelBtn);
    popup.classList.add("_second");
    popup.classList.remove("_first");
    setTimeout(function () {
      document.querySelector(".all-link").classList.remove("_hidden");
    }, 8500);
    spinCounter++;
    return;
  }
});

// parallax
var moveSpeed = 260;
if (window.innerWidth > 950) {
  document.addEventListener("mousemove", parallax);
}
function parallax(e) {
  document.querySelectorAll(".parallax").forEach(function (item) {
    var moving_value = item.getAttribute("data-value");
    var y = e.clientX * moving_value / moveSpeed;
    var x = e.clientY * moving_value / moveSpeed;
    var z = e.clientY * moving_value / moveSpeed * 2;
    item.style.transform = "perspective(300px) translate3d(".concat(x, "px, ").concat(y, "px, ").concat(z, "px)");
  });
}

///sounds
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsid2hlZWxCdG4iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ3aGVlbFNlY3RvciIsInBvcHVwIiwicG9wdXBCdG4iLCJiYWNrZ3JvdW5kTXVzaWMiLCJBdWRpbyIsInJlZWxTb3VuZCIsInJlZWxTdG9wU291bmQiLCJwb3B1cFNvdW5kIiwicGxheUJhY2tncm91bmRNdXNpYyIsInBsYXkiLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uY2UiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsInJlbW92ZSIsInN0eWxlIiwicG9pbnRlckV2ZW50cyIsInNwaW5Db3VudGVyIiwic3BpbldoZWVsIiwid2hlZWwiLCJhbmltIiwicG9zaXRpb24iLCJidG4iLCJhZGQiLCJ0cmFuc2Zvcm0iLCJwYXVzZSIsImN1cnJlbnRUaW1lIiwic2V0VGltZW91dCIsIm1vdmVTcGVlZCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJwYXJhbGxheCIsImUiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsIml0ZW0iLCJtb3ZpbmdfdmFsdWUiLCJnZXRBdHRyaWJ1dGUiLCJ5IiwiY2xpZW50WCIsIngiLCJjbGllbnRZIiwieiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFNQSxRQUFRLEdBQUdDLFFBQVEsQ0FBQ0MsYUFBYSxDQUFDLGtCQUFrQixDQUFDO0FBQzNELElBQU1DLFdBQVcsR0FBR0YsUUFBUSxDQUFDQyxhQUFhLENBQUMscUJBQXFCLENBQUM7QUFDakUsSUFBTUUsS0FBSyxHQUFHSCxRQUFRLENBQUNDLGFBQWEsQ0FBQyxRQUFRLENBQUM7QUFDOUMsSUFBTUcsUUFBUSxHQUFHSixRQUFRLENBQUNDLGFBQWEsQ0FBQyxhQUFhLENBQUM7O0FBRXREO0FBQ0EsSUFBTUksZUFBZSxHQUFHLElBQUlDLEtBQUssQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLENBQUM7QUFDeEQsSUFBTUMsU0FBUyxHQUFHLElBQUlELEtBQUssQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLENBQUM7QUFDbEQsSUFBTUUsYUFBYSxHQUFHLElBQUlGLEtBQUssQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDLENBQUM7QUFDMUQsSUFBTUcsVUFBVSxHQUFHLElBQUlILEtBQUssQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLENBQUM7O0FBRW5EO0FBQ0EsU0FBU0ksbUJBQW1CLEdBQUc7RUFDM0JMLGVBQWUsQ0FBQ00sSUFBSSxFQUFFLFNBQU0sQ0FBQyxVQUFBQyxHQUFHO0lBQUEsT0FBSUMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLEdBQUcsQ0FBQztFQUFBLEVBQUM7QUFDekQ7O0FBRUE7QUFDQVosUUFBUSxDQUFDZSxnQkFBZ0IsQ0FBQyxXQUFXLEVBQUVMLG1CQUFtQixFQUFFO0VBQUVNLElBQUksRUFBRTtBQUFLLENBQUMsQ0FBQztBQUMzRWhCLFFBQVEsQ0FBQ2UsZ0JBQWdCLENBQUMsT0FBTyxFQUFFTCxtQkFBbUIsRUFBRTtFQUFFTSxJQUFJLEVBQUU7QUFBSyxDQUFDLENBQUM7QUFDdkVoQixRQUFRLENBQUNlLGdCQUFnQixDQUFDLFlBQVksRUFBRUwsbUJBQW1CLEVBQUU7RUFBRU0sSUFBSSxFQUFFO0FBQUssQ0FBQyxDQUFDO0FBQzVFTixtQkFBbUIsRUFBRTtBQUVyQk4sUUFBUSxDQUFDVyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsWUFBTTtFQUNyQyxJQUFJWixLQUFLLENBQUNjLFNBQVMsQ0FBQ0MsUUFBUSxDQUFDLFFBQVEsQ0FBQyxFQUFFO0lBQ3BDZixLQUFLLENBQUNjLFNBQVMsQ0FBQ0UsTUFBTSxDQUFDLFVBQVUsRUFBRSxTQUFTLENBQUM7SUFDN0NwQixRQUFRLENBQUNxQixLQUFLLENBQUNDLGFBQWEsR0FBRyxTQUFTO0VBQzVDO0FBRUosQ0FBQyxDQUFDO0FBRUYsSUFBSUMsV0FBVyxHQUFHLENBQUM7QUFFbkIsU0FBU0MsU0FBUyxDQUFDQyxLQUFLLEVBQUVDLElBQUksRUFBRUMsUUFBUSxFQUFFdkIsS0FBSyxFQUFFd0IsR0FBRyxFQUFFO0VBQ2xESCxLQUFLLENBQUNQLFNBQVMsQ0FBQ1csR0FBRyxDQUFDSCxJQUFJLENBQUM7O0VBRXpCO0VBQ0FsQixTQUFTLENBQUNJLElBQUksRUFBRTtFQUVoQmEsS0FBSyxDQUFDVCxnQkFBZ0IsQ0FBQyxjQUFjLEVBQUUsWUFBTTtJQUN6Q1MsS0FBSyxDQUFDUCxTQUFTLENBQUNFLE1BQU0sQ0FBQ00sSUFBSSxDQUFDO0lBQzVCRCxLQUFLLENBQUNKLEtBQUssQ0FBQ1MsU0FBUyxvQkFBYUgsUUFBUSxTQUFNOztJQUVoRDtJQUNBbkIsU0FBUyxDQUFDdUIsS0FBSyxFQUFFO0lBQ2pCdkIsU0FBUyxDQUFDd0IsV0FBVyxHQUFHLENBQUM7O0lBRXpCO0lBQ0F2QixhQUFhLENBQUNHLElBQUksRUFBRTtJQUVwQlIsS0FBSyxDQUFDYyxTQUFTLENBQUNXLEdBQUcsQ0FBQyxVQUFVLEVBQUUsU0FBUyxDQUFDO0lBQzFDRCxHQUFHLENBQUNWLFNBQVMsQ0FBQ1csR0FBRyxDQUFDLFdBQVcsQ0FBQzs7SUFFOUI7SUFDQW5CLFVBQVUsQ0FBQ0UsSUFBSSxFQUFFO0VBRXJCLENBQUMsRUFBRTtJQUFFSyxJQUFJLEVBQUU7RUFBSyxDQUFDLENBQUM7QUFDdEI7QUFFQWpCLFFBQVEsQ0FBQ2dCLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxZQUFNO0VBQ3JDaEIsUUFBUSxDQUFDcUIsS0FBSyxDQUFDQyxhQUFhLEdBQUcsTUFBTTtFQUNyQyxJQUFJQyxXQUFXLEtBQUssQ0FBQyxFQUFFO0lBQ25CdkIsUUFBUSxDQUFDa0IsU0FBUyxDQUFDRSxNQUFNLENBQUMsV0FBVyxDQUFDO0lBQ3RDSSxTQUFTLENBQUNyQixXQUFXLEVBQUUsV0FBVyxFQUFFLElBQUksRUFBRUMsS0FBSyxFQUFFSixRQUFRLENBQUM7SUFDMURJLEtBQUssQ0FBQ2MsU0FBUyxDQUFDVyxHQUFHLENBQUMsUUFBUSxDQUFDO0lBQzdCTixXQUFXLEVBQUU7SUFDYjtFQUNKO0VBRUEsSUFBSUEsV0FBVyxLQUFLLENBQUMsRUFBRTtJQUNuQnZCLFFBQVEsQ0FBQ2tCLFNBQVMsQ0FBQ0UsTUFBTSxDQUFDLFdBQVcsQ0FBQztJQUN0Q0ksU0FBUyxDQUFDckIsV0FBVyxFQUFFLFlBQVksRUFBRSxNQUFNLEVBQUVDLEtBQUssRUFBRUosUUFBUSxDQUFDO0lBQzdESSxLQUFLLENBQUNjLFNBQVMsQ0FBQ1csR0FBRyxDQUFDLFNBQVMsQ0FBQztJQUM5QnpCLEtBQUssQ0FBQ2MsU0FBUyxDQUFDRSxNQUFNLENBQUMsUUFBUSxDQUFDO0lBQ2hDYSxVQUFVLENBQUMsWUFBSztNQUNaaEMsUUFBUSxDQUFDQyxhQUFhLENBQUMsV0FBVyxDQUFDLENBQUNnQixTQUFTLENBQUNFLE1BQU0sQ0FBQyxTQUFTLENBQUM7SUFDbkUsQ0FBQyxFQUFFLElBQUksQ0FBQztJQUVSRyxXQUFXLEVBQUU7SUFDYjtFQUNKO0FBQ0osQ0FBQyxDQUFDOztBQUVGO0FBQ0EsSUFBTVcsU0FBUyxHQUFHLEdBQUc7QUFFckIsSUFBSUMsTUFBTSxDQUFDQyxVQUFVLEdBQUcsR0FBRyxFQUFFO0VBQ3pCbkMsUUFBUSxDQUFDZSxnQkFBZ0IsQ0FBQyxXQUFXLEVBQUVxQixRQUFRLENBQUM7QUFDcEQ7QUFFQSxTQUFTQSxRQUFRLENBQUNDLENBQUMsRUFBRTtFQUNqQnJDLFFBQVEsQ0FBQ3NDLGdCQUFnQixDQUFDLFdBQVcsQ0FBQyxDQUFDQyxPQUFPLENBQUMsVUFBQ0MsSUFBSSxFQUFLO0lBQ3JELElBQU1DLFlBQVksR0FBR0QsSUFBSSxDQUFDRSxZQUFZLENBQUMsWUFBWSxDQUFDO0lBQ3BELElBQUlDLENBQUMsR0FBSU4sQ0FBQyxDQUFDTyxPQUFPLEdBQUdILFlBQVksR0FBSVIsU0FBUztJQUM5QyxJQUFJWSxDQUFDLEdBQUlSLENBQUMsQ0FBQ1MsT0FBTyxHQUFHTCxZQUFZLEdBQUlSLFNBQVM7SUFDOUMsSUFBSWMsQ0FBQyxHQUFJVixDQUFDLENBQUNTLE9BQU8sR0FBR0wsWUFBWSxHQUFJUixTQUFTLEdBQUcsQ0FBQztJQUNsRE8sSUFBSSxDQUFDcEIsS0FBSyxDQUFDUyxTQUFTLDRDQUFxQ2dCLENBQUMsaUJBQU9GLENBQUMsaUJBQU9JLENBQUMsUUFBSztFQUNuRixDQUFDLENBQUM7QUFDTjs7QUFFQSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgd2hlZWxCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmxhbmRfX3doZWVsLWJ0blwiKTtcbmNvbnN0IHdoZWVsU2VjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5sYW5kX193aGVlbC1zZWN0b3JcIik7XG5jb25zdCBwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBcIik7XG5jb25zdCBwb3B1cEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2J0blwiKTtcblxuLy8g0IbQvdGW0YbRltCw0LvRltC30LDRhtGW0Y8g0LfQstGD0LrRltCyXG5jb25zdCBiYWNrZ3JvdW5kTXVzaWMgPSBuZXcgQXVkaW8oJy4vbXVzaWMvbXVzaWMubXAzJyk7IC8vINGE0L7QvdC+0LLQuNC5INC30LLRg9C6LCDQs9GA0LDRlCDQv9C+0YHRgtGW0LnQvdC+XG5jb25zdCByZWVsU291bmQgPSBuZXcgQXVkaW8oJy4vbXVzaWMvcmVlbHMubXAzJyk7IC8vINC30LLRg9C6INC60YDRg9GH0LXQvdC90Y8g0LrQvtC70LXRgdCwXG5jb25zdCByZWVsU3RvcFNvdW5kID0gbmV3IEF1ZGlvKCcuL211c2ljL3JlZWwtc3RvcC5tcDMnKTsgLy8g0LfQstGD0Log0LrQvtC70Lgg0LLQuNC/0LDQtNCw0ZQg0YHQtdC60YLQvtGAXG5jb25zdCBwb3B1cFNvdW5kID0gbmV3IEF1ZGlvKCcuL211c2ljL3BvcHVwLm1wMycpOyAvLyDQt9Cy0YPQuiDQtNC70Y8g0L/QvtC/0LDQv9GDXG5cbi8vINCk0YPQvdC60YbRltGPINC00LvRjyDQt9Cw0L/Rg9GB0LrRgyDRhNC+0L3QvtCy0L7RlyDQvNGD0LfQuNC60LhcbmZ1bmN0aW9uIHBsYXlCYWNrZ3JvdW5kTXVzaWMoKSB7XG4gICAgYmFja2dyb3VuZE11c2ljLnBsYXkoKS5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyKSk7XG59XG5cbi8vINGC0LDQuiDRj9C6INGB0YPRh9Cw0YHQvdGWINCx0YDQsNGD0LfQtdGA0Lgg0LvQvtGH0LDRgtGMINCw0LLRgtC+0LLRltC00YLQstC+0YDQtdC90L3RjyDQvNGD0LfQuNC60Lgg0L3QsCDRgdCw0LnRgtCw0YUsINCy0ZbRiNCw0ZTQvCDRgdC70YPRhdCw0YfRliDQv9C+0LTRltC5INGP0LrRliDQt9Cw0L/Rg9GB0YLRj9GC0Ywg0ZfRl1xuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgcGxheUJhY2tncm91bmRNdXNpYywgeyBvbmNlOiB0cnVlIH0pO1xuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBwbGF5QmFja2dyb3VuZE11c2ljLCB7IG9uY2U6IHRydWUgfSk7XG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgcGxheUJhY2tncm91bmRNdXNpYywgeyBvbmNlOiB0cnVlIH0pO1xucGxheUJhY2tncm91bmRNdXNpYygpXG5cbnBvcHVwQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgaWYgKHBvcHVwLmNsYXNzTGlzdC5jb250YWlucyhcIl9maXJzdFwiKSkge1xuICAgICAgICBwb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwiX29wYWNpdHlcIiwgXCJfekluZGV4XCIpO1xuICAgICAgICB3aGVlbEJ0bi5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJpbml0aWFsXCI7XG4gICAgfVxuXG59KTtcblxubGV0IHNwaW5Db3VudGVyID0gMDtcblxuZnVuY3Rpb24gc3BpbldoZWVsKHdoZWVsLCBhbmltLCBwb3NpdGlvbiwgcG9wdXAsIGJ0bikge1xuICAgIHdoZWVsLmNsYXNzTGlzdC5hZGQoYW5pbSk7XG5cbiAgICAvL9C30LLRg9C6INC60YDRg9GH0LXQvdC90Y8g0LrQvtC70LXRgdCwXG4gICAgcmVlbFNvdW5kLnBsYXkoKTtcblxuICAgIHdoZWVsLmFkZEV2ZW50TGlzdGVuZXIoXCJhbmltYXRpb25lbmRcIiwgKCkgPT4ge1xuICAgICAgICB3aGVlbC5jbGFzc0xpc3QucmVtb3ZlKGFuaW0pO1xuICAgICAgICB3aGVlbC5zdHlsZS50cmFuc2Zvcm0gPSBgcm90YXRlKCR7cG9zaXRpb259ZGVnKWA7XG5cbiAgICAgICAgLy8g0JfRg9C/0LjQvdGP0ZTQvNC+INC30LLRg9C6INC60YDRg9GH0LXQvdC90Y8g0LrQvtC70LXRgdCwXG4gICAgICAgIHJlZWxTb3VuZC5wYXVzZSgpO1xuICAgICAgICByZWVsU291bmQuY3VycmVudFRpbWUgPSAwO1xuXG4gICAgICAgIC8vINC30LLRg9C6INC30YPQv9C40L3QutC4INC60L7Qu9C10YHQsFxuICAgICAgICByZWVsU3RvcFNvdW5kLnBsYXkoKTtcblxuICAgICAgICBwb3B1cC5jbGFzc0xpc3QuYWRkKFwiX29wYWNpdHlcIiwgXCJfekluZGV4XCIpO1xuICAgICAgICBidG4uY2xhc3NMaXN0LmFkZChcIl9idG5QdWxzZVwiKTtcblxuICAgICAgICAvLyDQktGW0LTRgtCy0L7RgNGO0ZTQvNC+INC30LLRg9C6INC00LvRjyDQv9C+0L/QsNC/0YNcbiAgICAgICAgcG9wdXBTb3VuZC5wbGF5KCk7XG5cbiAgICB9LCB7IG9uY2U6IHRydWUgfSk7XG59XG5cbndoZWVsQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgd2hlZWxCdG4uc3R5bGUucG9pbnRlckV2ZW50cyA9IFwibm9uZVwiO1xuICAgIGlmIChzcGluQ291bnRlciA9PT0gMCkge1xuICAgICAgICB3aGVlbEJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwiX2J0blB1bHNlXCIpO1xuICAgICAgICBzcGluV2hlZWwod2hlZWxTZWN0b3IsIFwiZmlyc3RTcGluXCIsIDE2MjAsIHBvcHVwLCB3aGVlbEJ0bik7XG4gICAgICAgIHBvcHVwLmNsYXNzTGlzdC5hZGQoXCJfZmlyc3RcIik7XG4gICAgICAgIHNwaW5Db3VudGVyKys7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoc3BpbkNvdW50ZXIgPT09IDEpIHtcbiAgICAgICAgd2hlZWxCdG4uY2xhc3NMaXN0LnJlbW92ZShcIl9idG5QdWxzZVwiKTtcbiAgICAgICAgc3BpbldoZWVsKHdoZWVsU2VjdG9yLCBcInNlY29uZFNwaW5cIiwgMjc0NC41LCBwb3B1cCwgd2hlZWxCdG4pO1xuICAgICAgICBwb3B1cC5jbGFzc0xpc3QuYWRkKFwiX3NlY29uZFwiKTtcbiAgICAgICAgcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcIl9maXJzdFwiKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PntcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWxsLWxpbmtcIikuY2xhc3NMaXN0LnJlbW92ZShcIl9oaWRkZW5cIilcbiAgICAgICAgfSwgODUwMClcblxuICAgICAgICBzcGluQ291bnRlcisrO1xuICAgICAgICByZXR1cm47XG4gICAgfVxufSk7XG5cbi8vIHBhcmFsbGF4XG5jb25zdCBtb3ZlU3BlZWQgPSAyNjA7XG5cbmlmICh3aW5kb3cuaW5uZXJXaWR0aCA+IDk1MCkge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgcGFyYWxsYXgpO1xufVxuXG5mdW5jdGlvbiBwYXJhbGxheChlKSB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wYXJhbGxheFwiKS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgIGNvbnN0IG1vdmluZ192YWx1ZSA9IGl0ZW0uZ2V0QXR0cmlidXRlKFwiZGF0YS12YWx1ZVwiKTtcbiAgICAgICAgbGV0IHkgPSAoZS5jbGllbnRYICogbW92aW5nX3ZhbHVlKSAvIG1vdmVTcGVlZDtcbiAgICAgICAgbGV0IHggPSAoZS5jbGllbnRZICogbW92aW5nX3ZhbHVlKSAvIG1vdmVTcGVlZDtcbiAgICAgICAgbGV0IHogPSAoZS5jbGllbnRZICogbW92aW5nX3ZhbHVlKSAvIG1vdmVTcGVlZCAqIDI7XG4gICAgICAgIGl0ZW0uc3R5bGUudHJhbnNmb3JtID0gYHBlcnNwZWN0aXZlKDMwMHB4KSB0cmFuc2xhdGUzZCgke3h9cHgsICR7eX1weCwgJHt6fXB4KWA7XG4gICAgfSk7XG59XG5cbi8vL3NvdW5kc1xuIl19
